{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shahbaz/Coding/Portfolio/social-media-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shahbaz/Coding/Portfolio/social-media-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Friend from'components/Friend';import{setFriends}from'state';import{Box,Typography,useTheme}from'@mui/material';import WidgetWrapper from'components/WidgetWrapper';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FriendListWidget=function FriendListWidget(_ref){var userId=_ref.userId;var dispatch=useDispatch();var token=useSelector(function(state){return state.token;});var friends=useSelector(function(state){return state.user.friends;});var _useTheme=useTheme(),palette=_useTheme.palette;var getFriends=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://social-media-app-z2la.onrender.com/users/\".concat(userId,\"/friends\"),{method:'GET',headers:{Authorization:\"Bearer \".concat(token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch(setFriends({friends:data}));case 7:case\"end\":return _context.stop();}},_callee);}));return function getFriends(){return _ref2.apply(this,arguments);};}();useEffect(function(){getFriends();},[]);// eslint-disable-line react-hooks/exhaustive-deps\nreturn/*#__PURE__*/_jsxs(WidgetWrapper,{children:[/*#__PURE__*/_jsx(Typography,{color:palette.neutral.dark,variant:\"h5\",fontWeight:\"500\",sx:{mb:'1.5rem'},children:\"Friend List\"}),/*#__PURE__*/_jsx(Box,{display:\"flex\",flexDirection:\"column\",gap:\"1.5rem\",children:friends.map(function(friend){return/*#__PURE__*/_jsx(Friend,{friendId:friend._id,name:\"\".concat(friend.firstName,\" \").concat(friend.lastName),subtitle:friend.occupation,userPicturePath:friend.picturePath},friend._id);})})]});};export default FriendListWidget;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","Friend","setFriends","Box","Typography","useTheme","WidgetWrapper","jsx","_jsx","jsxs","_jsxs","FriendListWidget","_ref","userId","dispatch","token","state","friends","user","_useTheme","palette","getFriends","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","color","neutral","dark","variant","fontWeight","sx","mb","display","flexDirection","gap","map","friend","friendId","_id","name","firstName","lastName","subtitle","occupation","userPicturePath","picturePath"],"sources":["/Users/shahbaz/Coding/Portfolio/social-media-app/client/src/features/widgets/FriendListWidget.jsx"],"sourcesContent":["import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Friend from 'components/Friend';\nimport { setFriends } from 'state';\nimport { Box, Typography, useTheme } from '@mui/material';\nimport WidgetWrapper from 'components/WidgetWrapper';\n\nconst FriendListWidget = ({ userId }) => {\n\tconst dispatch = useDispatch();\n\tconst token = useSelector((state) => state.token);\n\tconst friends = useSelector((state) => state.user.friends);\n\tconst { palette } = useTheme();\n\n\tconst getFriends = async () => {\n\t\tconst response = await fetch(\n\t\t\t`https://social-media-app-z2la.onrender.com/users/${userId}/friends`,\n\t\t\t{\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: { Authorization: `Bearer ${token}` },\n\t\t\t}\n\t\t);\n\t\tconst data = await response.json();\n\t\tdispatch(setFriends({ friends: data }));\n\t};\n\n\tuseEffect(() => {\n\t\tgetFriends();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn (\n\t\t<WidgetWrapper>\n\t\t\t<Typography\n\t\t\t\tcolor={palette.neutral.dark}\n\t\t\t\tvariant='h5'\n\t\t\t\tfontWeight='500'\n\t\t\t\tsx={{ mb: '1.5rem' }}\n\t\t\t>\n\t\t\t\tFriend List\n\t\t\t</Typography>\n\t\t\t<Box display='flex' flexDirection='column' gap='1.5rem'>\n\t\t\t\t{friends.map((friend) => (\n\t\t\t\t\t<Friend\n\t\t\t\t\t\tkey={friend._id}\n\t\t\t\t\t\tfriendId={friend._id}\n\t\t\t\t\t\tname={`${friend.firstName} ${friend.lastName}`}\n\t\t\t\t\t\tsubtitle={friend.occupation}\n\t\t\t\t\t\tuserPicturePath={friend.picturePath}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</Box>\n\t\t</WidgetWrapper>\n\t);\n};\n\nexport default FriendListWidget;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}