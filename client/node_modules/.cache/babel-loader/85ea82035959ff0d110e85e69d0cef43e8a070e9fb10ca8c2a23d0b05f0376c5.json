{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shahbaz/Coding/Portfolio/social-media-app/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/shahbaz/Coding/Portfolio/social-media-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import{setFriends}from'state';import{Box,IconButton,Typography,useTheme}from'@mui/material';import{PersonAddOutlined,PersonRemoveOutlined}from'@mui/icons-material';import FlexBetween from'./FlexBetween';import UserImage from'./UserImage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Friend=function Friend(_ref){var friendId=_ref.friendId,name=_ref.name,subtitle=_ref.subtitle,userPicturePath=_ref.userPicturePath;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.user;}),_id=_useSelector._id;var token=useSelector(function(state){return state.token;});var friends=useSelector(function(state){return state.user.friends;});var navigate=useNavigate();var _useTheme=useTheme(),palette=_useTheme.palette;var primaryLight=palette.primary.light;var primaryDark=palette.primary.dark;var main=palette.neutral.main;var medium=palette.neutral.medium;var isFriend=friends.find(function(friend){return friend._id===friendId;});var patchFriend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://social-media-app-z2la.onrender.com/users/\".concat(_id,\"/\").concat(friendId),{method:'PATCH',headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;dispatch(setFriends({friends:data}));case 7:case\"end\":return _context.stop();}},_callee);}));return function patchFriend(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(FlexBetween,{children:[/*#__PURE__*/_jsxs(FlexBetween,{gap:\"1rem\",children:[/*#__PURE__*/_jsx(UserImage,{image:userPicturePath,size:\"55px\"}),/*#__PURE__*/_jsxs(Box,{onClick:function onClick(){navigate(\"/profile/\".concat(friendId));navigate(0);},children:[/*#__PURE__*/_jsx(Typography,{color:main,variant:\"h5\",fontWeight:\"500\",sx:{'&:hover':{color:palette.primary.light,cursor:'pointer'}},children:name}),/*#__PURE__*/_jsx(Typography,{color:medium,fontSize:\"0.75rem\",children:subtitle})]})]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return patchFriend();},sx:{backgroundColor:primaryLight,p:'0.6rem'},children:isFriend?/*#__PURE__*/_jsx(PersonRemoveOutlined,{sx:{color:primaryDark}}):/*#__PURE__*/_jsx(PersonAddOutlined,{sx:{color:primaryDark}})})]});};export default Friend;","map":{"version":3,"names":["useDispatch","useSelector","useNavigate","setFriends","Box","IconButton","Typography","useTheme","PersonAddOutlined","PersonRemoveOutlined","FlexBetween","UserImage","jsx","_jsx","jsxs","_jsxs","Friend","_ref","friendId","name","subtitle","userPicturePath","dispatch","_useSelector","state","user","_id","token","friends","navigate","_useTheme","palette","primaryLight","primary","light","primaryDark","dark","main","neutral","medium","isFriend","find","friend","patchFriend","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","Authorization","sent","json","stop","apply","arguments","children","gap","image","size","onClick","color","variant","fontWeight","sx","cursor","fontSize","backgroundColor","p"],"sources":["/Users/shahbaz/Coding/Portfolio/social-media-app/client/src/components/Friend.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { setFriends } from 'state';\nimport { Box, IconButton, Typography, useTheme } from '@mui/material';\nimport { PersonAddOutlined, PersonRemoveOutlined } from '@mui/icons-material';\nimport FlexBetween from './FlexBetween';\nimport UserImage from './UserImage';\n\nconst Friend = ({ friendId, name, subtitle, userPicturePath }) => {\n\tconst dispatch = useDispatch();\n\tconst { _id } = useSelector((state) => state.user);\n\tconst token = useSelector((state) => state.token);\n\tconst friends = useSelector((state) => state.user.friends);\n\tconst navigate = useNavigate();\n\n\tconst { palette } = useTheme();\n\tconst primaryLight = palette.primary.light;\n\tconst primaryDark = palette.primary.dark;\n\tconst main = palette.neutral.main;\n\tconst medium = palette.neutral.medium;\n\n\tconst isFriend = friends.find((friend) => friend._id === friendId);\n\n\tconst patchFriend = async () => {\n\t\tconst response = await fetch(\n\t\t\t`https://social-media-app-z2la.onrender.com/users/${_id}/${friendId}`,\n\t\t\t{\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconst data = await response.json();\n\t\tdispatch(setFriends({ friends: data }));\n\t};\n\n\treturn (\n\t\t<FlexBetween>\n\t\t\t<FlexBetween gap='1rem'>\n\t\t\t\t<UserImage image={userPicturePath} size='55px' />\n\t\t\t\t<Box\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tnavigate(`/profile/${friendId}`);\n\t\t\t\t\t\tnavigate(0);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tcolor={main}\n\t\t\t\t\t\tvariant='h5'\n\t\t\t\t\t\tfontWeight='500'\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\t\t\tcolor: palette.primary.light,\n\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography color={medium} fontSize='0.75rem'>\n\t\t\t\t\t\t{subtitle}\n\t\t\t\t\t</Typography>\n\t\t\t\t</Box>\n\t\t\t</FlexBetween>\n\t\t\t<IconButton\n\t\t\t\tonClick={() => patchFriend()}\n\t\t\t\tsx={{ backgroundColor: primaryLight, p: '0.6rem' }}\n\t\t\t>\n\t\t\t\t{isFriend ? (\n\t\t\t\t\t<PersonRemoveOutlined sx={{ color: primaryDark }} />\n\t\t\t\t) : (\n\t\t\t\t\t<PersonAddOutlined sx={{ color: primaryDark }} />\n\t\t\t\t)}\n\t\t\t</IconButton>\n\t\t</FlexBetween>\n\t);\n};\n\nexport default Friend;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}